<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saved Profiles</title>
    <script type="module" src="firebase.js"></script>
</head>
<body>
    <h1>ðŸ“‚ Saved Employee Profiles</h1>
    <ul id="profilesList">Loading...</ul>

    <script type="module">
        import { database, ref, set } from "./firebase.js";
    
        document.getElementById("saveBtn").addEventListener("click", function() {
            const profileName = document.getElementById("profileName").textContent;
            const status = document.getElementById("status").value;
            const drugTest = document.getElementById("drugTest").value;
            const drugTestDate = document.getElementById("drugTestDate").value;
            const backgroundCheck = document.getElementById("backgroundCheck").value;
    
            if (!profileName) {
                alert("No profile selected!");
                return;
            }
    
            // Reference to Firebase database
            const profileRef = ref(database, "profiles/" + profileName);
    
            // Save data to Firebase
            set(profileRef, {
                status,
                drugTest,
                drugTestDate,
                backgroundCheck
            })
            .then(() => {
                alert("Profile saved successfully!");
            })
            .catch((error) => {
                console.error("Error saving profile:", error);
            });
        });
    </script>
    </body>
</html>
