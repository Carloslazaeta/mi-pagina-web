<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saved Profiles</title>
    <script type="module" src="firebase.js"></script>
</head>
<body>
    <h1>ðŸ“‚ Saved Employee Profiles</h1>
    <ul id="profilesList">Loading...</ul>

    <script type="module">
        import { database, ref, set } from "./firebase.js";
    
        document.getElementById("saveBtn").addEventListener("click", function () {
            let name = document.getElementById("profileName").textContent;
            if (!name || name === "Loading...") {
                alert("No profile name found!");
                return;
            }
    
            const profileRef = ref(database, "profiles/" + name);
            set(profileRef, {
                status: document.getElementById("status").value,
                offerLetter: document.getElementById("offerLetter").value,
                drugTest: document.getElementById("drugTest").value,
                drugTestDate: document.getElementById("drugTestDate").value,
                backgroundCheck: document.getElementById("backgroundCheck").value,
                trainingStatus: document.getElementById("trainingStatus").value,
                trainingDate: document.getElementById("trainingDate").value,
                adpPayroll: document.getElementById("adpPayroll").value,
                employeeHandbook: document.getElementById("employeeHandbook").value,
                handbookAcknowledgment: document.getElementById("handbookAcknowledgment").value,
                jjkApplication: document.getElementById("jjkApplication").value,
                jjkApplicationDate: document.getElementById("jjkApplicationDate").value,
                mecCertificate: document.getElementById("mecCertificate").value,
                roadTest: document.getElementById("roadTest").value,
                roadTestDate: document.getElementById("roadTestDate").value,
                i9Status: document.getElementById("i9Status").value
            }).then(() => {
                alert("Profile saved successfully!");
            }).catch((error) => {
                alert("Error saving profile: " + error.message);
            });
        });
    
        document.getElementById("cancelBtn").addEventListener("click", function () {
            window.location.href = "employees.html"; // Redirige a la lista de empleados
        });
    </script>
    